-- DROP ROLE dp_user;

CREATE ROLE dp_user WITH 
	NOSUPERUSER
	NOCREATEDB
	NOCREATEROLE
	INHERIT
	LOGIN
	NOREPLICATION
	NOBYPASSRLS
	CONNECTION LIMIT -1;

-- DROP ROLE dump_user;

CREATE ROLE dump_user WITH 
	NOSUPERUSER
	NOCREATEDB
	NOCREATEROLE
	INHERIT
	LOGIN
	NOREPLICATION
	NOBYPASSRLS
	CONNECTION LIMIT -1;

-- DROP ROLE internal_utility_u7n88hj5v8j2i0;

CREATE ROLE internal_utility_u7n88hj5v8j2i0 WITH 
	NOSUPERUSER
	NOCREATEDB
	NOCREATEROLE
	INHERIT
	LOGIN
	NOREPLICATION
	NOBYPASSRLS
	CONNECTION LIMIT -1;

-- DROP ROLE pg_checkpoint;

CREATE ROLE pg_checkpoint WITH 
	NOSUPERUSER
	NOCREATEDB
	NOCREATEROLE
	INHERIT
	NOLOGIN
	NOREPLICATION
	NOBYPASSRLS
	CONNECTION LIMIT -1;

-- DROP ROLE pg_database_owner;

CREATE ROLE pg_database_owner WITH 
	NOSUPERUSER
	NOCREATEDB
	NOCREATEROLE
	INHERIT
	NOLOGIN
	NOREPLICATION
	NOBYPASSRLS
	CONNECTION LIMIT -1;

-- DROP ROLE pg_execute_server_program;

CREATE ROLE pg_execute_server_program WITH 
	NOSUPERUSER
	NOCREATEDB
	NOCREATEROLE
	INHERIT
	NOLOGIN
	NOREPLICATION
	NOBYPASSRLS
	CONNECTION LIMIT -1;

-- DROP ROLE pg_monitor;

CREATE ROLE pg_monitor WITH 
	NOSUPERUSER
	NOCREATEDB
	NOCREATEROLE
	INHERIT
	NOLOGIN
	NOREPLICATION
	NOBYPASSRLS
	CONNECTION LIMIT -1;

GRANT pg_read_all_settings TO pg_monitor;
GRANT pg_read_all_stats TO pg_monitor;
GRANT pg_stat_scan_tables TO pg_monitor;

-- DROP ROLE pg_read_all_data;

CREATE ROLE pg_read_all_data WITH 
	NOSUPERUSER
	NOCREATEDB
	NOCREATEROLE
	INHERIT
	NOLOGIN
	NOREPLICATION
	NOBYPASSRLS
	CONNECTION LIMIT -1;

-- DROP ROLE pg_read_all_settings;

CREATE ROLE pg_read_all_settings WITH 
	NOSUPERUSER
	NOCREATEDB
	NOCREATEROLE
	INHERIT
	NOLOGIN
	NOREPLICATION
	NOBYPASSRLS
	CONNECTION LIMIT -1;

-- DROP ROLE pg_read_all_stats;

CREATE ROLE pg_read_all_stats WITH 
	NOSUPERUSER
	NOCREATEDB
	NOCREATEROLE
	INHERIT
	NOLOGIN
	NOREPLICATION
	NOBYPASSRLS
	CONNECTION LIMIT -1;

-- DROP ROLE pg_read_server_files;

CREATE ROLE pg_read_server_files WITH 
	NOSUPERUSER
	NOCREATEDB
	NOCREATEROLE
	INHERIT
	NOLOGIN
	NOREPLICATION
	NOBYPASSRLS
	CONNECTION LIMIT -1;

-- DROP ROLE pg_signal_backend;

CREATE ROLE pg_signal_backend WITH 
	NOSUPERUSER
	NOCREATEDB
	NOCREATEROLE
	INHERIT
	NOLOGIN
	NOREPLICATION
	NOBYPASSRLS
	CONNECTION LIMIT -1;

-- DROP ROLE pg_stat_scan_tables;

CREATE ROLE pg_stat_scan_tables WITH 
	NOSUPERUSER
	NOCREATEDB
	NOCREATEROLE
	INHERIT
	NOLOGIN
	NOREPLICATION
	NOBYPASSRLS
	CONNECTION LIMIT -1;

-- DROP ROLE pg_write_all_data;

CREATE ROLE pg_write_all_data WITH 
	NOSUPERUSER
	NOCREATEDB
	NOCREATEROLE
	INHERIT
	NOLOGIN
	NOREPLICATION
	NOBYPASSRLS
	CONNECTION LIMIT -1;

-- DROP ROLE pg_write_server_files;

CREATE ROLE pg_write_server_files WITH 
	NOSUPERUSER
	NOCREATEDB
	NOCREATEROLE
	INHERIT
	NOLOGIN
	NOREPLICATION
	NOBYPASSRLS
	CONNECTION LIMIT -1;

-- DROP ROLE postgres;

CREATE ROLE postgres WITH 
	SUPERUSER
	CREATEDB
	CREATEROLE
	INHERIT
	LOGIN
	REPLICATION
	BYPASSRLS
	CONNECTION LIMIT -1;
ALTER ROLE postgres SET search_path=pg_catalog;

-- DROP ROLE proc_user;

CREATE ROLE proc_user WITH 
	NOSUPERUSER
	NOCREATEDB
	NOCREATEROLE
	INHERIT
	LOGIN
	NOREPLICATION
	NOBYPASSRLS
	CONNECTION LIMIT -1;

-- DROP ROLE repl_user;

CREATE ROLE repl_user WITH 
	NOSUPERUSER
	NOCREATEDB
	NOCREATEROLE
	INHERIT
	LOGIN
	NOREPLICATION
	NOBYPASSRLS
	CONNECTION LIMIT -1;

-- DROP ROLE uf6kbcpnvp58tn;

CREATE ROLE uf6kbcpnvp58tn WITH 
	NOSUPERUSER
	NOCREATEDB
	NOCREATEROLE
	INHERIT
	LOGIN
	NOREPLICATION
	NOBYPASSRLS
	CONNECTION LIMIT 500;

GRANT pg_signal_backend TO uf6kbcpnvp58tn;
GRANT pg_read_all_stats TO uf6kbcpnvp58tn;
GRANT pg_read_all_settings TO uf6kbcpnvp58tn;
GRANT pg_monitor TO uf6kbcpnvp58tn;
GRANT proc_user TO uf6kbcpnvp58tn;
GRANT repl_user TO uf6kbcpnvp58tn;
GRANT dump_user TO uf6kbcpnvp58tn;
GRANT dp_user TO uf6kbcpnvp58tn;